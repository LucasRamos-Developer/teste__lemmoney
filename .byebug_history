continue
time_now
end_at.to_time < time_now
end_at.nil?
time_now > start_at.to_time
next
start_at.nil?
continue
@offer.ends_at.to_time
@offer.ends_at
@offer.starts_at.to_time
@offer.starts_at
@now
@offer_service.verify_state(@now, @offer.starts_at, @offer.ends_at)
continue
@offer = Offer.new()
@offer = Offer.new(
@now = '15-01-2020'.to_time
continue
@offer = offers(:one)
@offer = offers(:one, {advertiser_name: 'Test'})
@offer = offers(:one, advertiser_name: 'Test')
@offer
continue
@primarty_model.where("starts_at <= ?", Time.now).where("ends_at >= ? OR ends_at IS NULL", Time.now)
@primarty_model.where("starts_at <= ?", Time.now)
@primarty_model.where("starts_at < ?", Time.now)
continue
@primarty_model.where(builder_sql(time_now))
continue
(@primarty_model.arel_table[:starts_at].gteq(time_now)).and( @primarty_model.arel_table[:ends_at].lteq(time_now)).to_sql
